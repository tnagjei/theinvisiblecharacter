# The Invisible Character - 开发规范与标准

## 1. 代码规范

### 1.1 HTML规范

#### 1.1.1 文档类型和编码
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
```

#### 1.1.2 语义化标签
```html
<!-- 正确示例 -->
<header>
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
    </ul>
  </nav>
</header>

<main>
  <section>
    <h2>Section Title</h2>
    <article>
      <h3>Article Title</h3>
      <p>Content...</p>
    </article>
  </section>
</main>

<footer>
  <p>&copy; 2025 The Invisible Character</p>
</footer>

<!-- 避免过度使用div -->
<div class="container">
  <div class="header">
    <div class="logo">Logo</div>
  </div>
</div>
```

#### 1.1.3 属性顺序
```html
<!-- 正确顺序 -->
<a
  id="main-link"
  class="btn btn-primary"
  href="https://example.com"
  target="_blank"
  rel="noopener noreferrer"
  data-track="click"
  onclick="handleClick()"
>
  Link Text
</a>
```

#### 1.1.4 SEO最佳实践
```html
<!-- 每个页面必须有H1 -->
<h1>Page Title - The Invisible Character</h1>

<!-- H2-H6正确层级 -->
<h2>Section Title</h2>
  <h3>Subsection Title</h3>
    <h4>Detail Title</h4>

<!-- 图片alt属性 -->
<img src="path/to/image.jpg" alt="Description of image content">

<!-- 适当的标题长度 -->
<title>50-60 characters maximum</title>
<meta name="description" content="140-160 characters maximum">
```

### 1.2 CSS规范

#### 1.2.1 Tailwind CSS使用原则
```html
<!-- 优先使用Tailwind工具类 -->
<div class="flex items-center justify-center p-4 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold text-gray-800">Title</h2>
</div>

<!-- 避免内联样式 -->
<div style="display: flex; justify-content: center;"> <!-- 错误 -->
```

#### 1.2.2 自定义CSS类命名
```css
/* 使用项目前缀 */
.tic-hero { /* The Invisible Character Hero */
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* BEM命名规范 */
.character__button {
  padding: 12px 24px;
}

.character__button--copy {
  background-color: #007AFF;
}

.character__button--copied {
  background-color: #34C759;
}

/* 响应式设计 */
@media (max-width: 640px) {
  .tic-hero {
    padding: 2rem 1rem;
  }
}
```

#### 1.2.3 CSS变量
```css
:root {
  /* 颜色 */
  --tic-primary: #007AFF;
  --tic-secondary: #5AC8FA;
  --tic-success: #34C759;
  --tic-danger: #FF3B30;
  --tic-warning: #FF9500;
  
  /* 间距 */
  --tic-space-xs: 0.25rem;
  --tic-space-sm: 0.5rem;
  --tic-space-md: 1rem;
  --tic-space-lg: 1.5rem;
  --tic-space-xl: 2rem;
  
  /* 字体 */
  --tic-font-size-xs: 0.75rem;
  --tic-font-size-sm: 0.875rem;
  --tic-font-size-base: 1rem;
  --tic-font-size-lg: 1.125rem;
  --tic-font-size-xl: 1.25rem;
  --tic-font-size-2xl: 1.5rem;
}
```

### 1.3 JavaScript规范

#### 1.3.1 代码风格
```javascript
// 使用ES6+语法
const copyButton = document.getElementById('copy-button');
const invisibleChar = '‌';

// 箭头函数
const copyToClipboard = () => {
  navigator.clipboard.writeText(invisibleChar)
    .then(() => {
      showFeedback('Copied!');
    })
    .catch(err => {
      console.error('Failed to copy:', err);
    });
};

// 事件监听
copyButton.addEventListener('click', copyToClipboard);

// 避免全局变量污染
const TicApp = {
  init() {
    this.cacheDOM();
    this.bindEvents();
  },
  
  cacheDOM() {
    this.copyButton = document.getElementById('copy-button');
    this.feedback = document.getElementById('feedback');
  },
  
  bindEvents() {
    this.copyButton.addEventListener('click', () => this.copy());
  },
  
  copy() {
    // 复制逻辑
  }
};

// 初始化
document.addEventListener('DOMContentLoaded', () => {
  TicApp.init();
});
```

#### 1.3.2 函数命名
```javascript
// 动词开头，驼峰命名
function copyToClipboard() {}
function showFeedback() {}
function validateInput() {}
function initializeTheme() {}

// 私有函数使用下划线前缀
function _handleError() {}
function _updateUI() {}

// 常量使用大写
const INVISIBLE_CHAR = '‌';
const COPY_TIMEOUT = 2000;
const SUPPORTED_LANGUAGES = ['en', 'fr'];
```

## 2. 文件组织规范

### 2.1 文件命名约定
```
# HTML文件
index.html          # 首页
about.html          # 关于页面
blog/index.html     # 博客首页
blog/post-name.html # 博客文章

# CSS文件
assets/css/main.css         # 主样式
assets/css/custom.css       # 自定义样式

# JavaScript文件
assets/js/main.js           # 主脚本
assets/js/i18n.js          # 多语言
assets/js/clipboard.min.js  # 第三方库

# 图片文件
assets/images/hero-bg.webp
assets/images/platforms/instagram.svg
assets/icons/favicon.ico
```

### 2.2 目录结构
```
assets/
├── css/          # 所有CSS文件
├── js/           # 所有JavaScript文件
├── images/       # 图片资源
│   └── platforms/ # 平台图标
├── icons/        # 网站图标
└── fonts/        # 字体文件

blog/            # 博客文章
├── index.html
├── post-1.html
└── post-2.html

pages/           # 静态页面
├── about.html
├── help.html
└── contact.html
```

## 3. 性能优化规范

### 3.1 资源加载优化
```html
<!-- 预连接关键域名 -->
<link rel="preconnect" href="https://cdn.tailwindcss.com">
<link rel="preconnect" href="https://fonts.googleapis.com">

<!-- 关键资源预加载 -->
<link rel="preload" href="/assets/js/clipboard.min.js" as="script">

<!-- 异步加载非关键JS -->
<script src="/assets/js/main.js" async defer></script>

<!-- 图片懒加载 -->
<img src="placeholder.jpg" data-src="actual-image.jpg" loading="lazy" alt="...">
```

### 3.2 CSS优化
```css
/* 使用Tailwind的@apply减少重复 */
.btn {
  @apply px-4 py-2 rounded-lg font-medium transition-colors;
}

.btn-primary {
  @apply bg-blue-600 text-white hover:bg-blue-700;
}

/* 避免过度嵌套 */
.container .header .nav .item { /* 差 */
.nav-item { /* 好 */
```

### 3.3 JavaScript优化
```javascript
// 使用事件委托
document.addEventListener('click', (e) => {
  if (e.target.matches('.copy-button')) {
    copyToClipboard();
  }
});

// 防抖函数
const debounce = (func, wait) => {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
};

// 节流函数
const throttle = (func, limit) => {
  let inThrottle;
  return function() {
    const args = arguments;
    const context = this;
    if (!inThrottle) {
      func.apply(context, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
};
```

## 4. SEO规范

### 4.1 Meta标签标准
```html
<!-- 必需的Meta标签 -->
<title>The Invisible Character - Copy Blank Space Characters (2025)</title>
<meta name="description" content="Free online tool to copy invisible characters. Perfect for Instagram, Fortnite, TikTok.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="canonical" href="https://theinvisiblecharacter.live">

<!-- Open Graph -->
<meta property="og:title" content="The Invisible Character - Copy Blank Space Characters">
<meta property="og:description" content="Free online tool to copy invisible characters">
<meta property="og:type" content="website">
<meta property="og:url" content="https://theinvisiblecharacter.live">
<meta property="og:image" content="https://theinvisiblecharacter.live/assets/images/og-image.jpg">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="The Invisible Character - Copy Blank Space Characters">
<meta name="twitter:description" content="Free online tool to copy invisible characters">

<!-- 多语言支持 -->
<link rel="alternate" hreflang="en" href="https://theinvisiblecharacter.live">
<link rel="alternate" hreflang="fr" href="https://theinvisiblecharacter.live/fr">
```

### 4.2 结构化数据
```html
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "The Invisible Character",
  "description": "Free online tool to copy invisible characters",
  "url": "https://theinvisiblecharacter.live",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "Web Browser",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  }
}
</script>
```

## 5. 可访问性规范

### 5.1 ARIA标签
```html
<!-- 为动态内容添加ARIA -->
<button aria-pressed="false" aria-label="Copy invisible character">
  Copy
</button>

<!-- 跳转链接 -->
<a href="#main-content" class="skip-link">Skip to main content</a>

<!-- 图片替代文本 -->
<img src="screenshot.png" alt="Instagram bio with invisible character example">

<!-- 表单标签 -->
<label for="email">Email address</label>
<input type="email" id="email" name="email" required>
```

### 5.2 键盘导航
```css
/* 可见的焦点样式 */
*:focus {
  outline: 2px solid #007AFF;
  outline-offset: 2px;
}

/* 跳过链接 */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #007AFF;
  color: white;
  padding: 8px;
  text-decoration: none;
}

.skip-link:focus {
  top: 0;
}
```

## 6. 安全规范

### 6.1 CSP配置
```html
<!-- 通过_headers文件配置 -->
Content-Security-Policy: default-src 'self'; 
  script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; 
  style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; 
  img-src 'self' data: https:; 
  connect-src 'self'; 
  font-src 'self' data:;
```

### 6.2 防XSS措施
```javascript
// 输出转义
function escapeHtml(unsafe) {
  return unsafe
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#039;");
}

// 避免innerHTML
const safeContent = document.createTextNode(userInput);
element.appendChild(safeContent);
```

## 7. Git工作流规范

### 7.1 提交信息格式
```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

示例：
```
feat(home): add copy button animation
- Add smooth transition effect
- Update feedback text color

fix: resolve mobile layout issue on Safari
- Fix flex container overflow
- Add media query for small screens

docs: update README with deployment instructions

style: format CSS according to project standards
```

### 7.2 分支策略
```
main          # 生产环境
├── develop    # 开发环境
├── feature/*  # 功能分支
└── hotfix/*   # 紧急修复
```

## 8. 测试规范

### 8.1 浏览器兼容性
- Chrome (最新2个版本)
- Firefox (最新2个版本)
- Safari (最新2个版本)
- Edge (最新2个版本)
- iOS Safari (最新2个版本)
- Android Chrome (最新2个版本)

### 8.2 性能测试检查清单
- [ ] Lighthouse得分 > 90
- [ ] 首次内容绘制 < 1.5s
- [ ] 最大内容绘制 < 2.5s
- [ ] 累积布局偏移 < 0.1
- [ ] 页面大小 < 500KB
- [ ] 请求数 < 20

## 9. 文档规范

### 9.1 代码注释
```javascript
/**
 * 复制隐形字符到剪贴板
 * @param {string} character - 要复制的字符
 * @returns {Promise<void>}
 */
async function copyCharacter(character) {
  try {
    await navigator.clipboard.writeText(character);
    // 显示成功反馈
  } catch (error) {
    console.error('复制失败:', error);
  }
}
```

### 9.2 README模板
```markdown
# 项目名称

简短的项目描述。

## 功能特性

- ✅ 功能1
- ✅ 功能2

## 技术栈

- HTML5
- Tailwind CSS
- Vanilla JavaScript

## 开发

```bash
# 安装依赖（如果有）
npm install

# 启动开发服务器
npm run dev
```

## 部署

项目使用Cloudflare Pages自动部署。
```

## 10. 发布流程

### 10.1 发布检查清单
- [ ] 代码审查完成
- [ ] 所有测试通过
- [ ] SEO优化完成
- [ ] 性能指标达标
- [ ] 移动端适配测试
- [ ] 多语言功能测试
- [ ] 更新版本号
- [ ] 更新CHANGELOG.md

### 10.2 版本号规范
```
v1.0.0
主版本号.次版本号.修订号

- 主版本号：不兼容的API修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正
```

这些规范确保了代码的一致性、可维护性和高质量标准。所有开发人员都应遵循这些规范。